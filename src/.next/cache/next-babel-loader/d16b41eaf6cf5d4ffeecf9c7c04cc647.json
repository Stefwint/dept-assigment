{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useContext, useEffect } from 'react';\nimport Router from 'next/router';\nimport ReactGA from 'react-ga';\nimport { ThemeProvider } from 'styled-components';\nimport renderHTML from 'react-render-html';\nimport { GlobalStyles } from './styles';\nimport theme from '../theme';\nimport Head from './head';\nimport { AppContext } from '../contexts/AppProvider';\nimport Footer from './Footer';\n\nvar Page = function Page(_ref) {\n  var children = _ref.children,\n      data = _ref.data,\n      errorCode = _ref.errorCode;\n\n  var _useContext = useContext(AppContext),\n      options = _useContext.options;\n\n  var currentPage = data ? data.id : false;\n  var title = data && data.title ? data.title.rendered : false;\n  var isSearch = data && data.slug === 'search';\n  var isPreview = data === undefined;\n\n  var _ref2 = data || {},\n      yoast_meta = _ref2.yoast_meta,\n      featured_image = _ref2.featured_image;\n\n  var _options$acf = options.acf;\n  _options$acf = _options$acf === void 0 ? {} : _options$acf;\n  var cookie_show = _options$acf.cookie_show,\n      cookie_text = _options$acf.cookie_text,\n      cookie_btn_text = _options$acf.cookie_btn_text;\n\n  if (options && options.acf && options.acf.analytics_id) {\n    ReactGA.initialize(options.acf.analytics_id);\n  }\n\n  var handleRouteChange = function handleRouteChange() {\n    if (options && options.acf && options.acf.analytics_id) {\n      ReactGA.pageview(window.location.pathname + window.location.search);\n    }\n\n    console.log('App is changing to: ', window.location.pathname);\n  };\n\n  useEffect(function () {\n    Router.events.on('routeChangeComplete', handleRouteChange);\n    return function () {\n      Router.events.off('routeChangeComplete', handleRouteChange);\n    };\n  }, []);\n  return __jsx(ThemeProvider, {\n    theme: theme\n  }, __jsx(\"div\", null, __jsx(GlobalStyles, null), __jsx(Head, {\n    title: title || 'Not found',\n    yoast: yoast_meta || {},\n    featuredImage: featured_image,\n    options: options\n  }), options && options.acf && options.acf.script_body_opening && renderHTML(options.acf.script_body_opening), __jsx(\"div\", null, children), __jsx(Footer, {\n    options: options && options.acf ? options.acf : false,\n    cookie: {\n      show: cookie_show,\n      text: cookie_text,\n      btnText: cookie_btn_text\n    }\n  }), options && options.acf && options.acf.script_body_closing && renderHTML(options.acf.script_body_closing)));\n};\n\nexport default Page;","map":{"version":3,"sources":["/Users/stefwinterswijk/Werk/dept/src/components/Page.jsx"],"names":["React","useContext","useEffect","Router","ReactGA","ThemeProvider","renderHTML","GlobalStyles","theme","Head","AppContext","Footer","Page","children","data","errorCode","options","currentPage","id","title","rendered","isSearch","slug","isPreview","undefined","yoast_meta","featured_image","acf","cookie_show","cookie_text","cookie_btn_text","analytics_id","initialize","handleRouteChange","pageview","window","location","pathname","search","console","log","events","on","off","script_body_opening","show","text","btnText","script_body_closing"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect } from 'react';\nimport Router from 'next/router';\nimport ReactGA from 'react-ga';\nimport { ThemeProvider } from 'styled-components';\nimport renderHTML from 'react-render-html';\nimport { GlobalStyles } from './styles';\nimport theme from '../theme';\nimport Head from './head';\nimport { AppContext } from '../contexts/AppProvider';\nimport Footer from './Footer';\n\nconst Page = ({ children, data, errorCode }) => {\n  const { options } = useContext(AppContext);\n  const currentPage = data ? data.id : false;\n  const title = data && data.title ? data.title.rendered : false;\n  const isSearch = data && data.slug === 'search';\n  const isPreview = data === undefined;\n  const { yoast_meta, featured_image } = data || {};\n  const { acf: { cookie_show, cookie_text, cookie_btn_text } = {} } = options;\n\n  if (options && options.acf && options.acf.analytics_id) {\n    ReactGA.initialize(options.acf.analytics_id);\n  }\n\n  const handleRouteChange = () => {\n    if (options && options.acf && options.acf.analytics_id) {\n      ReactGA.pageview(window.location.pathname + window.location.search);\n    }\n\n    console.log('App is changing to: ', window.location.pathname);\n  };\n\n  useEffect(() => {\n    Router.events.on('routeChangeComplete', handleRouteChange);\n    return () => {\n      Router.events.off('routeChangeComplete', handleRouteChange);\n    };\n  }, []);\n\n  return (\n    <ThemeProvider theme={theme}>\n      <div>\n        <GlobalStyles />\n        <Head\n          title={title || 'Not found'}\n          yoast={yoast_meta || {}}\n          featuredImage={featured_image}\n          options={options}\n        />\n        {options &&\n          options.acf &&\n          options.acf.script_body_opening &&\n          renderHTML(options.acf.script_body_opening)}\n        <div>{children}</div>\n        <Footer\n          options={options && options.acf ? options.acf : false}\n          cookie={{ show: cookie_show, text: cookie_text, btnText: cookie_btn_text }}\n        />\n        {options &&\n          options.acf &&\n          options.acf.script_body_closing &&\n          renderHTML(options.acf.script_body_closing)}\n      </div>\n    </ThemeProvider>\n  );\n};\n\nexport default Page;\n"]},"metadata":{},"sourceType":"module"}